<UserControl x:Class="VisionWorkOrderApp.Views.WorkOrderView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:VisionWorkOrderApp.Views"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid Background="Azure">
        <!-- 화면을 3개 행으로 나누기 -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="300"/>
        </Grid.ColumnDefinitions>



        <!-- 목록 영역 (두 번째 행) -->
        <DataGrid Grid.Column="0"
                  ItemsSource="{Binding WorkOrders}"
                  SelectedItem="{Binding SelectedWorkOrder}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  Margin="10">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID"
                                    Binding="{Binding Id}"
                                    Width="50"/>
                <DataGridTextColumn Header="제품명"
                                    Binding="{Binding ProductName}"
                                    Width="*"/>
                <DataGridTextColumn Header="수량" 
                                    Binding="{Binding Quantity}" 
                                    Width="100"/>
                <DataGridTextColumn Header="상태" 
                          Binding="{Binding Status}" 
                                    Width="100"/>
                <DataGridTextColumn Header="설비ID" 
                                    Binding="{Binding EquipmentId}" 
                                    Width="100"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- 오른쪽: 입력 영역 -->
        <Border Grid.Column="1"
                Background="CadetBlue"
                Padding="15"
                Margin="0,10,10,10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" 
                           Text="작업지시 입력"
                           FontSize="16"
                           FontWeight="Bold"
                           Margin="0,0,0,5"/>
                <!-- 여기에 입력 폼 추가할 거예요 -->
                <StackPanel Grid.Row="1">
                    <!--제품명-->
                    <TextBlock Text="제품명"
                           FontWeight="SemiBold" />
                    <TextBox Text="{Binding NewProductName,UpdateSourceTrigger=PropertyChanged}"
                         Height="25"
                         Margin="0,0,0,5"/>
                    <!--수량-->
                    <TextBlock Text="수량"
                           FontWeight="SemiBold"/>
                    <TextBox Text="{Binding NewQuantity, UpdateSourceTrigger=PropertyChanged}"
                         Height="25"/>
                    <!--상태-->
                    <TextBlock Text="상태"
                           FontWeight="SemiBold"/>
                    <ComboBox SelectedValue="{Binding NewStatus}"
                          Height="25">
                        <ComboBoxItem Content="대기"/>
                        <ComboBoxItem Content="진행중"/>
                        <ComboBoxItem Content="완료"/>
                    </ComboBox>
                    <!--설비 ID-->
                    <TextBlock Text="설비ID"
                           FontWeight="SemiBold"/>
                    <TextBox Text="{Binding NewEquipmentId,UpdateSourceTrigger=PropertyChanged}"
                         Height="25"
                         Margin="0,0,0,5"/>
                </StackPanel>
                <!-- 버튼 영역 -->
                <StackPanel Grid.Row="2">
                    <Button Content="추가"
                        Height="35"
                        Margin="0,10,0,5"
                        Command="{Binding AddCommand}"/>
                    <Button Content="수정"
                        Height="35"
                        Margin="0,5"
                        Command="{Binding EditCommand}"/>
                    <Button Content="삭제"
                        Height="35"
                        Margin="0,5"
                        Command="{Binding DeleteCommand}"/>
                    <Button Content="초기화"
                        Height="35"
                        Margin="0,5"
                        Command="{Binding ClearCommand}"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
<!--  ItemsSource="{Binding WorkOrders}" - WorkOrders 리스트 연결!-->
<!--SelectedItem="{Binding SelectedWorkOrder}" - 선택한 행 연결-->
<!--AutoGenerateColumns="False" - 컬럼 자동 생성 안 함 (수동 정의)-->
<!--IsReadOnly="True" - 읽기 전용 (수정 불가)-->
<!--SelectionMode="Single" - 한 행만 선택 가능-->
<!--타이핑할 때마다 ViewModel에 즉시 반영-->
<!--Spring의 @ModelAttribute 같은 역할-->